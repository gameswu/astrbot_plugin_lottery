# AstrBot 抽奖插件

一个功能强大的 AstrBot 抽奖插件，支持多种抽奖算法和灵活的配置选项。

## 功能特性

- 🎲 支持创建多种类型的抽奖活动
- ⏰ 灵活的时间设置，可设置抽奖有效期
- 🏆 支持多种奖品类型和数量配置
- 📋 便捷的抽奖管理和查看功能
- 🎯 公平的抽奖算法，确保随机性
- 👥 支持多人参与，防止重复抽奖

## 使用方法

### 基本命令

#### 创建抽奖
```
/抽奖 创建 [id] [奖品类型数量] <描述> <有效时长> <次数>
```

**参数说明：**
- `[id]`: 抽奖活动的唯一标识符
- `[奖品类型数量]`: 奖品类型的数量，例如3即有3种奖品
- `<描述>`: 抽奖活动的描述信息
- `<有效时长>`: 抽奖的有效时长，以秒为单位，设置为0或不填写表示永久有效。
- `<次数>`: 抽奖活动的参与次数限制，设置为0或不填写表示无限次参与。

**示例：**
```
/抽奖 创建 summer2024 3 夏日狂欢抽奖 86400 1
/抽奖 创建 daily001 2 每日签到奖励 43200 0
```

#### 查看抽奖列表
```
/抽奖 列出
```
显示所有当前可以参与的抽奖活动，包括活动ID、描述、剩余时间等信息。

#### 参与抽奖
```
/抽奖 [id]
```
参与指定ID的抽奖活动。每个用户在同一个抽奖活动中只能参与一次。

**示例：**
```
/抽奖 summer2024
/抽奖 daily001
```

#### 设置奖品信息
```
/抽奖 奖品 [id] [num] [amount] [名称] <描述> <图片链接>
```
用于设置指定抽奖活动中特定奖品的详细信息。

**参数说明：**
- `[id]`: 抽奖活动的唯一标识符
- `[num]`: 奖品编号（从1开始）
- `[amount]`: 奖品数量，设置为0表示不限制数量
- `[名称]`: 奖品的名称
- `<描述>`: 奖品的详细描述（可选）
- `<图片链接>`: 奖品的图片URL（可选）

**示例：**
```
/抽奖 奖品 summer2024 1 0 iPhone15Pro 最新款苹果手机 https://example.com/iphone.jpg
/抽奖 奖品 daily001 2 50 优惠券 50元购物优惠券 https://example.com/coupon.jpg
```

#### 设置抽奖算法
```
/抽奖 方式 [id] <algorithm_id>
```
用于设置指定抽奖活动的抽奖算法。

**参数说明：**
- `[id]`: 抽奖活动的唯一标识符
- `<algorithm_id>`: 抽奖算法ID（如：random、weighted、fair等）

**示例：**
```
/抽奖 方式 summer2024 weighted
/抽奖 方式 daily001 random
```

**支持的算法类型：**
- `random`: 完全随机抽奖
- `weighted`: 权重抽奖（根据奖品稀有度）
- `fair`: 公平抽奖（确保分布均匀）

#### 获取帮助
```
/抽奖 帮助
```
显示插件的详细帮助信息和使用说明。

### 使用流程

1. **管理员创建抽奖**：使用 `/抽奖 创建` 命令设置抽奖活动
2. **设置奖品详情**（可选）：使用 `/抽奖 奖品` 命令为奖品添加详细信息和图片
3. **设置抽奖算法**（可选）：使用 `/抽奖 方式` 命令选择合适的抽奖算法
4. **用户查看抽奖**：使用 `/抽奖 列出` 命令查看可参与的抽奖
5. **用户参与抽奖**：使用 `/抽奖 [id]` 命令参与指定抽奖
6. **自动开奖**：抽奖时间到期后自动进行开奖并公布结果

## 注意事项

- 抽奖活动过期后将自动失效，无法再参与
- 奖品分配采用公平的随机算法
- 建议合理设置抽奖时间，给用户足够的参与时间

## 权限说明

- **创建抽奖**：需要管理员权限
- **设置奖品信息**：需要管理员权限
- **设置抽奖算法**：需要管理员权限
- **参与抽奖**：所有用户均可参与
- **查看列表**：所有用户均可查看
- **获取帮助**：所有用户均可使用
